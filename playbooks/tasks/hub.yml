---
- name: Get Hub
  get_url:
    url=https://github.com/github/hub/releases/download/v{{ hub_version }}/hub-linux-amd64-{{ hub_version }}.tar.gz
    dest=/tmp/hub-linux-amd64-{{ hub_version }}.tar.gz

- name: Unarchive Hub
  unarchive:
    copy=no
    src=/tmp/hub-linux-amd64-{{ hub_version }}.tar.gz
    dest=/tmp/

- name: Install Hub
  sudo: yes
  synchronize:
    src=/tmp/hub-linux-amd64-{{ hub_version }}/hub
    dest=/usr/local/bin/hub

- name: Install Hub completion
  copy:
    src=/tmp/hub-linux-amd64-{{ hub_version }}/etc/hub.bash_completion.sh
    dest=/etc/bash_completion.d/hub
